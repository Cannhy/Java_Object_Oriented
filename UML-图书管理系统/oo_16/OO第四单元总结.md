# <div align = "center">OOUML设计总结</div>

## **一、正向建模与开发**

&emsp;&emsp;本单元所实践的UML建模与开发以模拟图书馆管理系统来推进，培养在coding前先进行思路的梳理，以UML建模的方式来体现思想方法，进而再之后的过程中进行高效的、可靠的编程的能力。其中所用到的方法如下：

* 需求分析：首先对图书管理系统的需求进行分析，确定系统所要实现的功能，包括图书馆、管理人员、用户之间的关系及交互，进行全面的架构设计
* 类图：通过分析图书馆各个部分之间的关系，进行类的设计，包括Library类、Student类以及Book类等，在类图中先绘制出类与类之间的交互关系，使思路更加清晰
* 状态图：对象在不同阶段具有不同的状态，状态图可以展示出对象在不同状态间的转换条件，可以清晰的看出转换过程，利于后续进一步的开发，比如借书可以有借走、归还以及预定等状态
* 顺序图：通过设计顺序图，可以清楚的描述借书、还书的详细过程，有利于理解各个对象之间的协作关系与消息传递路径

## 二、本单元架构设计

* Book类：Book类代表每本图书，属性包括书号、所属学校、运输目的地、运输出发地、存储日期等
* Student类：Student类代表每个用户，属性包括所属学校、所拥有的B类书以及C类书、所拥有的每本书的租借日期等
* Library类：Library类是各个图书馆的内部逻辑，属性包括所属学校、拥有的书籍及数量、改图书馆所在学校的学生、要买的书、预定的书等
* Department类：是控制整个架构相互交互的**中心枢纽**，负责处理读入请求并利用Library类所提供的接口来进行整理日的处理以及校级借阅等请求

&emsp;&emsp;基本的类及功能构造好之后，再根据各个类之间的关系来进行逻辑的梳理。在系统开始执行请求时，由控制中心Department先为各个学校图书馆添加书籍addBooks()；然后每次读入一天的请求，再依次进行`整理日安排`->`处理今天请求`->`处理外校借阅`->`输出今天的校际借阅情况`->`输出明天开馆前的校际借阅情况`，这样在提前规划好UML模型、再进行编码的方法可以使逻辑更加清晰，更容易发现bug，十分高效

类图设计如下：![](D:\Java文件\oo_hw\oo_16\类图.png)

&emsp;&emsp;最终的`代码设计`和`UML模型设计`之间的**追踪关系**：这两部分大体上是吻合的，对于新增的用户请求，先想好在类图中是否需要增添新的类或者在已有类中构建新方法，并确定好各个类之间的关系之后，再进行代码的改动，充分的体现了**高内聚、低耦合**的思想方法。基于UML模型的设计，先按照模型中所描述类中的对象和方法等信息进行初步的开发，并且在设计的过程中同步更新UML图。如果在开发过程中有考虑不周的地方再同步更改UML图即可。同样，在UML的完善过程中也要及时更新代码逻辑，以保证代码设计和UML模型之间的高度贴合

## 三、架构设计思维的演进

&emsp;&emsp;在第一单元的设计中，首次接触到了层次化设计的思想，对表达式结构进行建模，通过递归下降的方法进行表达式的解析，层次分明，各个部分实现一项独立的功能，大大减少了设计的难度

&emsp;&emsp;在多线程的设计中，先想明白各个线程间是如何相互作用与影响的，然后进行模块化的设计，将电梯分成多个功能独立的模块，设计相应的通信方法与交互接口，进而简化了电梯系统的运行逻辑

&emsp;&emsp;这个单元的整体架构已由课程组给出，通过阅读**JML语言**实现相应的方法即可，重点在于理解JML规格对于编程的意义，通过规范化的方法来进行程序设计，可有效提高程序的可靠性和高质量

&emsp;&emsp;这个单元进一步的理解了架构设计思维的作用。在开发过程中，先对整体架构进行**UML模型**的建立，进行正向建模，从而能够在后续coding过程中高效实现，逻辑更加清晰，为将来的软件开发工作提供了经验

## 四、测试思维的演进

&emsp;&emsp;对于程序的测试，在第一单元开始时还是自己针对数据边界情况来手动构造测试点，当然虽然有些笨拙，但是也能发现不少bug，通过充分的手动构造，过强测还是没有问题的，因为第一单元的难度主要在于实现，bug点比较容易想到，因为他的逻辑不像后几个单元那么复杂

&emsp;&emsp;到了第二单元，多线程的测试就绝不能简单通过手动构造数据来实现了，因为他的测试结果绝大多数情况下是不可复现的，必须实现覆盖性、全面性的测试；好在好多同学在评论区开源了评测机，通过学习大家的自动测试的源码可以学习到自动测试的方法，受益匪浅

&emsp;&emsp;第三单元的测试课程组提供了JUnit方法，Junit 是一个单元测试包，**可以通过编写单元测试类和方法，来实现对类和方法实现正确性的快速检查和测试**。还可以查看测试覆盖率以及具体覆盖范围（精确到语句级别），以帮助编程者全面无死角的进行程序功能测试，通过这个工具我很好的发现了程序的bug，对比较复杂的方法都进行了Junit测试，发现了绝大多数的bug，新掌握了一项自动化测试的工具

&emsp;&emsp;第四单元的测试也是相对而言比较容易的，因为主要难在设计逻辑，主要的bug点是`深拷贝与浅拷贝`，而且数据量要求也比较小，手动构造多个数据即可顺利通过强测

## 五、课程收获

&emsp;&emsp;OO课程的学习压力很大，每周布置的作业需要花费大量时间完成，在完成的过程中虽然很累但是我还是比较快乐的，自己设计的架构能通过代码实现出来，自己的努力也算没有白费，也收获了满足

&emsp;&emsp;通过OO课程的学习，我深刻理解了层次化设计的重要性，以及架构设计思维的意义，还有自动化测试的方法与工具，这些对于我后续计算机道路上的学习有着重要的启迪作用，打下了坚实的基础，受益匪浅
